(function(a){a.imgSlide=function(d){var p=a.extend({isAutoSlide:false,isLoop:false,isFullPage:false,delayTime:3000,duration:1000},d);var t={};var l=typeof p.leftButton=="string"?a("#"+p.leftButton):p.leftButton,h=typeof p.rightButton=="string"?a("#"+p.rightButton):p.rightButton,u=typeof p.listId=="string"?a("#"+p.listId):p.listId,s=!p.contentId?u.parent():(typeof p.contentId=="string"?a("#"+p.contentId):p.contentId),i=u.find("li"),n=u.find("li:first").outerWidth(true),k=s.width(),q=true,j=false,m=u.find("li").length,f=Math.floor(k/n),b,v=0;if(p.isAutoSlide){var g=false,o=new Date(),e=3000;p.isLoop=true}if(m<=f){!!l&&l.remove();!!h&&h.remove()}if(!p.moveSize||p.moveSize>f){p.moveSize=f}if(p.isLoop){q=false,j=false,l.removeClass("noLeft");h.removeClass("noRight")}t.slideFunc=function(B,y,x){if(B>0&&q){return}if(B<0&&j){return}if(v){return}v=1;if(typeof y=="boolean"){x=y;y=""}if(p.isAutoSlide&&x){g=true;o=new Date()}y=y||p.moveSize;b=parseFloat(u.css("margin-left"));var z=m;if(p.isLoop){z=u.find("li").length}var A=Math.abs(b/n);if(B<0){A=z-f-A}n=B*Math.abs(n);if(A<=y){if(p.isLoop){if(A<y){c(B);A=y;b=parseFloat(u.css("margin-left"))}}else{if(B>0){l.addClass("noLeft");q=true}else{h.addClass("noRight");j=true}}if(p.isFullPage){b=b+A*n}else{b=b+y*n}}else{b=b+y*n}u.stop().animate({"margin-left":b},p.duration,function(){if(p.isLoop){var C=Math.abs(parseInt(b/n));if(B>0){if(C+f<=m){u.find("li[t=1]").remove();u.css({"margin-left":-C*Math.abs(n)})}}else{var D=u.find("li").length-C;if(D<=m){u.css({"margin-left":-(m-D)*Math.abs(n)});u.find("li[t=1]").remove()}}}else{if(B>0){h.removeClass("noRight");j=false}else{l.removeClass("noLeft");q=false}}v=0})};function c(z){var y=document.createDocumentFragment(),x=i.clone();x.attr("t","1");if(z>0){var A=parseFloat(u.css("margin-left"));A=A-m*Math.abs(n);u.prepend(x).css({"margin-left":A})}else{u.append(x)}}if(p.isAutoSlide){function w(){var x=setInterval(function(){if(g){clearInterval(x);r();return false}t.slideFunc(-1)},p.delayTime)}w();function r(){var x=setInterval(function(){var y=new Date();if(y-o>=e){g=false;clearInterval(x);w()}},1000)}}!!l&&l.unbind().bind("click",function(x){t.slideFunc(1,true)});!!h&&h.unbind().bind("click",function(x){t.slideFunc(-1,true)});if(k>f*Math.abs(n)){u.unbind().bind("click",function(C){var B=C.target||C.srcElement,A=a(B).closest("li");if(A.length){var z=a(A).index(),x=Math.abs(parseFloat(u.css("margin-left"))),D=Math.floor(x/n),y=Math.abs(n);if((z+1)*y>x&&(z+1)*y<x+y){t.slideFunc(1,0.5,true)}else{if((z+1)*y>x+k){t.slideFunc(-1,0.5,true)}}}})}return t}})(jQuery);